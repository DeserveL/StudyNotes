# Spring Cloud 学习笔记
参考博文 [拜托！面试请不要再问我Spring Cloud底层原理](https://juejin.im/post/5be13b83f265da6116393fc7) 的学习笔记！

## 技术点

#### Eureka
各个服务启动时，Eureka Client都会将服务注册到Eureka Server，并且Eureka Client还可以反过来从Eureka Server拉取注册表，从而知道其他服务在哪里

#### Ribbon
服务间发起请求的时候，基于Ribbon做负载均衡，从一个服务的多台机器中选择一台

#### Feign
基于Feign的动态代理机制，根据注解和选择的机器，拼接请求URL地址，发起请求

#### Hystrix
发起请求是通过Hystrix的线程池来走的，不同的服务走不同的线程池，实现了不同服务调用的隔离，避免了服务雪崩的问题

#### Zuul
如果前端、移动端要调用后端系统，统一从Zuul网关进入，由Zuul网关转发请求给对应的服务

## 模拟业务场景

假设咱们现在开发一个电商网站，要实现支付订单的功能，流程如下：

* 创建一个订单后，如果用户立刻支付了这个订单，我们需要将订单状态更新为“已支付”
* 扣减相应的商品库存
* 通知仓储中心，进行发货
* 给用户的这次购物增加相应的积分

针对上述流程，我们需要有订单服务（ordering）、库存服务（stock）、仓储服务（storage）、积分服务（credit）。整个流程的大体思路如下：

* 用户针对一个订单完成支付之后，就会去找订单服务，更新订单状态
* 订单服务调用库存服务，完成相应功能
* 订单服务调用仓储服务，完成相应功能
* 订单服务调用积分服务，完成相应功能至此，整个支付订单的业务流程结束

![调用过程](https://user-gold-cdn.xitu.io/2018/11/7/166ebffb48c481a3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)
