<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>webSocket测试</title>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-websocket@0.2.3/dist/vue-websocket.min.js"></script>
</head>
<body>
<div id="app">
    <div class="container">
        <div class="jumbotron" v-if="!startChat">
            <h1>你好，世界！</h1>
            <p><input class="form-control" id="exampleInputEmail1" placeholder="请输入你的昵称" v-model="username"></p>
            <p><a class="btn btn-primary btn-lg" href="#" role="button" @click="login">join</a></p>
        </div>
        <div v-if="startChat">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1>XXX聊天系统<a class="btn btn-primary btn-lg pull-right" href="#" role="button" @click="logout">退出</a></h1>
                </div>
                <div class="panel-body">
                    <div class="row" style="height: 500px">
                        <div class="col-lg-3">
                            <ul class="list-group" v-for="use in onlineUsers">
                                <li class="list-group-item">{{use}}</li>
                            </ul>
                        </div>
                        <div class="col-lg-9">
                            <ul class="list-group" v-for="data in messageList">
                                <li class="list-group-item">{{data.fromUserName}}: {{data.message}}</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-11">
                            <textarea class="form-control" rows="3" v-model="tempMessage"></textarea>
                        </div>
                        <div class="col-md-1">
                            <a class="btn btn-primary btn-lg" href="#" role="button" @click="send">发送</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/webSocket.js"></script>
</body>
</html>
